{{ define "main" }}

<div style="
    display: grid; 
    grid-template-columns: minmax(0, 1fr) 400px; 
    gap: 40px; 
    width: 100%; 
    max-width: 1400px; 
    margin: 0 auto; 
    padding-top: 20px;
">
    
    <div class="archive-content">
        {{- range (where .Site.RegularPages "Type" "post").GroupByDate "2006" -}}
        <div class="archives-group" style="margin-bottom: 50px;">
            <h2 class="section-title" style="
                font-size: 2rem; 
                margin-bottom: 20px; 
                opacity: 0.6;
                padding-bottom: 10px;
                border-bottom: 2px solid var(--card-background);
            ">
                <a href="{{ $.RelPermalink }}#{{ .Key }}">{{ .Key }}</a>
            </h2>
            
            <div class="article-list--compact">
                {{- range .Pages -}}
                    {{ partial "article-list/compact.html" . }}
                {{- end -}}
            </div>
        </div>
        {{- end -}}
    </div>
    
    <div class="archive-sidebar" style="position: sticky; top: 20px;">
        {{ partial "sidebar/right.html" (dict "Context" . "Scope" "homepage") }}
    </div>

</div>

<style>
@media (max-width: 1024px) {
    div[style*="display: grid"] {
        grid-template-columns: 1fr !important;
    }
    .archive-sidebar {
        display: none !important;
    }
}
</style>

{{ end }}